const Inspection=require("../../models/Inspection").Inspection,Order=require("../../models/Order").Order,parse=require("../../helpers/parseList").parse,validate=require("../../helpers/validation").validate;module.exports={index:function(e,n){parse("inspections",e,n,["name"])},select:function(e,n){let t=Inspection.findAll({type:"main"});n.json(t)},show:function(e,n){let t={};t[e.query.key]=e.query.value;let s=Inspection.findByReg(t);s?n.json(s):n.json({status:!1,msg:"no results!"})},update:function(e,n){e.body.file=e.file,rder.findBy({id:e.body.orderId}).update({inspection:e.body}),n.json({status:!0,result:{}})},create:function(e,n){e.body.file=e.file,Order.update({id:e.body.orderId,inspection:e.body}),n.json({status:!0,result:e.body})},delete:function(e,n){Inspection.delete(e.body),n.json({status:!0,msg:"删除成功！"})},import:function(e,n){n.json(Inspection.importData())}};