"use strict";const Model=require("./_Base").Model,path=require("path"),_=require("lodash"),fs=require("fs");exports.Order=class extends Model{static list(e="updatedAt",r="asc"){return Model.list("orders",e,r)}static findBy(e){return Model.findBy("orders",e)}static getReations(e){let r=Model.findBy("orders",{id:e});return{order:r,user:Model.findBy("users",{id:r.userId}),installation:r.installation,inspection:r.inspection}}static findAll(e){return Model.findAll("orders",e)}static findByReg(e){return Model.findByReg("orders",e)}static where(e,r,t){return Model.where("orders",e,r,t)}static format(e,r){return r?e.map(function(e){let t={};return r.forEach(function(r){t[r]=e[r]}),t}):e.map(function(e){return{id:e.id}})}static create(e){return e.uuid=Model.guid(),e.pickTime=new Date,Model.create("orders",e)}static update(e){return Model.update("orders","id",e)}static delete(e){return Model.delete("orders",e)}};